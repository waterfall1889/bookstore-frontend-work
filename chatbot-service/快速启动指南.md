# 聊天机器人快速启动指南

## 快速开始

### 1. 安装依赖

```bash
cd chatbot-service
pip install -r requirements.txt
```

### 2. 启动服务

**Windows:**
```bash
python chatbot_agent.py
```

**Linux/Mac:**
```bash
python3 chatbot_agent.py
```

服务将在 `http://localhost:5000` 启动。

### 3. 验证服务

打开浏览器访问：`http://localhost:5000/health`

应该看到：
```json
{"status": "healthy"}
```

### 4. 测试聊天接口

使用curl或Postman测试：

```bash
curl -X POST http://localhost:5000/chat \
  -H "Content-Type: application/json" \
  -d '{
    "message": "你好",
    "history": []
  }'
```

### 5. 启动完整系统

1. **启动MySQL数据库**（确保数据库运行在localhost:3306）
2. **启动聊天服务**（端口5000）
3. **启动Spring Boot后端**（端口8080）
4. **启动React前端**（端口3000）

然后访问 `http://localhost:3000/chatbot` 使用聊天界面。

## 常见问题

### 端口被占用

如果5000端口被占用，可以修改 `chatbot_agent.py` 最后一行的端口号：

```python
app.run(host='0.0.0.0', port=5001, debug=True)  # 改为5001或其他端口
```

同时记得更新Spring Boot中的 `CHATBOT_SERVICE_URL`。

### 数据库连接失败

检查：
1. MySQL服务是否运行
2. 数据库配置是否正确
3. 数据库和表是否存在

可以通过环境变量设置数据库配置：

```bash
# Windows PowerShell
$env:DB_HOST="localhost"
$env:DB_PASSWORD="your_password"

# Linux/Mac
export DB_HOST=localhost
export DB_PASSWORD=your_password
```

### API调用失败

检查：
1. DeepSeek API密钥是否正确
2. 网络连接是否正常
3. API配额是否足够

查看服务器日志获取详细错误信息。
